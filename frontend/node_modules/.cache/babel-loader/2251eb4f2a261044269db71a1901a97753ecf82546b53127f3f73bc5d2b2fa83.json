{"ast":null,"code":"// src/api.js\n\nconst API_URL = \"http://localhost:8000\";\n\n// Generic authenticated fetch\nexport async function authFetch(endpoint, token, method = \"GET\", body = null) {\n  const res = await fetch(`${API_URL}${endpoint}`, {\n    method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`\n    },\n    body: body ? JSON.stringify(body) : null\n  });\n  if (!res.ok) {\n    const txt = await res.text();\n    throw new Error(txt);\n  }\n  return res.json();\n}\n\n// ======================\n// AUTH FUNCTIONS\n// ======================\n\nexport async function loginUser(email, password) {\n  const res = await fetch(`${API_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  if (!res.ok) throw new Error(await res.text());\n  return res.json(); // contains token\n}\nexport async function registerUser(email, password) {\n  const res = await fetch(`${API_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  if (!res.ok) throw new Error(await res.text());\n  return res.json();\n}\n\n// ======================\n// PROFILE FUNCTIONS\n// ======================\n\nexport function fetchProfile(token) {\n  return authFetch(\"/api/profile/me\", token);\n}\nexport function updateProfile(token, profile) {\n  return authFetch(\"/api/profile/me\", token, \"POST\", profile);\n}\n\n// ======================\n// JOB FUNCTIONS\n// ======================\n\nexport function fetchRecommendedJobs(token) {\n  return authFetch(\"/api/jobs/recommended\", token);\n}","map":{"version":3,"names":["API_URL","authFetch","endpoint","token","method","body","res","fetch","headers","Authorization","JSON","stringify","ok","txt","text","Error","json","loginUser","email","password","registerUser","fetchProfile","updateProfile","profile","fetchRecommendedJobs"],"sources":["C:/Users/yamun/Downloads/Pro-Ject/frontend/src/api.js"],"sourcesContent":["// src/api.js\r\n\r\nconst API_URL = \"http://localhost:8000\";\r\n\r\n// Generic authenticated fetch\r\nexport async function authFetch(endpoint, token, method = \"GET\", body = null) {\r\n  const res = await fetch(`${API_URL}${endpoint}`, {\r\n    method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: body ? JSON.stringify(body) : null,\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const txt = await res.text();\r\n    throw new Error(txt);\r\n  }\r\n  return res.json();\r\n}\r\n\r\n// ======================\r\n// AUTH FUNCTIONS\r\n// ======================\r\n\r\nexport async function loginUser(email, password) {\r\n  const res = await fetch(`${API_URL}/login`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json(); // contains token\r\n}\r\n\r\nexport async function registerUser(email, password) {\r\n  const res = await fetch(`${API_URL}/register`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json();\r\n}\r\n\r\n// ======================\r\n// PROFILE FUNCTIONS\r\n// ======================\r\n\r\nexport function fetchProfile(token) {\r\n  return authFetch(\"/api/profile/me\", token);\r\n}\r\n\r\nexport function updateProfile(token, profile) {\r\n  return authFetch(\"/api/profile/me\", token, \"POST\", profile);\r\n}\r\n\r\n// ======================\r\n// JOB FUNCTIONS\r\n// ======================\r\n\r\nexport function fetchRecommendedJobs(token) {\r\n  return authFetch(\"/api/jobs/recommended\", token);\r\n}\r\n"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAG,uBAAuB;;AAEvC;AACA,OAAO,eAAeC,SAASA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAE;EAC5E,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,GAAGE,QAAQ,EAAE,EAAE;IAC/CE,MAAM;IACNI,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUN,KAAK;IAChC,CAAC;IACDE,IAAI,EAAEA,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAG;EACtC,CAAC,CAAC;EAEF,IAAI,CAACC,GAAG,CAACM,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;IAC5B,MAAM,IAAIC,KAAK,CAACF,GAAG,CAAC;EACtB;EACA,OAAOP,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA;AACA;;AAEA,OAAO,eAAeC,SAASA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC/C,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,QAAQ,EAAE;IAC1CI,MAAM,EAAE,MAAM;IACdI,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CH,IAAI,EAAEK,IAAI,CAACC,SAAS,CAAC;MAAEO,KAAK;MAAEC;IAAS,CAAC;EAC1C,CAAC,CAAC;EAEF,IAAI,CAACb,GAAG,CAACM,EAAE,EAAE,MAAM,IAAIG,KAAK,CAAC,MAAMT,GAAG,CAACQ,IAAI,CAAC,CAAC,CAAC;EAC9C,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC,CAAC,CAAC;AACrB;AAEA,OAAO,eAAeI,YAAYA,CAACF,KAAK,EAAEC,QAAQ,EAAE;EAClD,MAAMb,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,WAAW,EAAE;IAC7CI,MAAM,EAAE,MAAM;IACdI,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CH,IAAI,EAAEK,IAAI,CAACC,SAAS,CAAC;MAAEO,KAAK;MAAEC;IAAS,CAAC;EAC1C,CAAC,CAAC;EAEF,IAAI,CAACb,GAAG,CAACM,EAAE,EAAE,MAAM,IAAIG,KAAK,CAAC,MAAMT,GAAG,CAACQ,IAAI,CAAC,CAAC,CAAC;EAC9C,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB;;AAEA;AACA;AACA;;AAEA,OAAO,SAASK,YAAYA,CAAClB,KAAK,EAAE;EAClC,OAAOF,SAAS,CAAC,iBAAiB,EAAEE,KAAK,CAAC;AAC5C;AAEA,OAAO,SAASmB,aAAaA,CAACnB,KAAK,EAAEoB,OAAO,EAAE;EAC5C,OAAOtB,SAAS,CAAC,iBAAiB,EAAEE,KAAK,EAAE,MAAM,EAAEoB,OAAO,CAAC;AAC7D;;AAEA;AACA;AACA;;AAEA,OAAO,SAASC,oBAAoBA,CAACrB,KAAK,EAAE;EAC1C,OAAOF,SAAS,CAAC,uBAAuB,EAAEE,KAAK,CAAC;AAClD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}