{"ast":null,"code":"// frontend/src/api.js\nconst API_URL = \"http://localhost:8000\";\nasync function request(path, options = {}) {\n  const headers = options.headers || {};\n  if (!headers[\"Content-Type\"] && !(options.body instanceof FormData)) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n  const token = localStorage.getItem(\"token\");\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  const res = await fetch(`${API_URL}${path}`, {\n    ...options,\n    headers\n  });\n  if (!res.ok) {\n    const txt = await res.text().catch(() => null);\n    throw new Error(txt || `Request failed (${res.status})`);\n  }\n  return res.status === 204 ? null : res.json();\n}\n\n// Auth\nexport async function registerUser({\n  name,\n  email,\n  password\n}) {\n  return request(\"/register\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      name,\n      email,\n      password\n    })\n  });\n}\nexport async function loginUser({\n  email,\n  password\n}) {\n  // backend expects JSON {email,password} on /login and returns {access_token}\n  const data = await request(\"/login\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  if (data && data.access_token) {\n    localStorage.setItem(\"token\", data.access_token);\n  }\n  return data;\n}\n\n// Profile\nexport async function getProfile() {\n  return request(\"/profile\", {\n    method: \"GET\"\n  });\n}\nexport async function saveProfile(profile) {\n  return request(\"/profile\", {\n    method: \"POST\",\n    body: JSON.stringify(profile)\n  });\n}\n\n// Jobs\nexport async function fetchJobs() {\n  const data = await request(\"/api/jobs\", {\n    method: \"GET\"\n  });\n  // normalize\n  return Array.isArray(data) ? data : data.jobs || [];\n}\n\n// logout\nexport function logout() {\n  localStorage.removeItem(\"token\");\n}","map":{"version":3,"names":["API_URL","request","path","options","headers","body","FormData","token","localStorage","getItem","res","fetch","ok","txt","text","catch","Error","status","json","registerUser","name","email","password","method","JSON","stringify","loginUser","data","access_token","setItem","getProfile","saveProfile","profile","fetchJobs","Array","isArray","jobs","logout","removeItem"],"sources":["C:/Users/yamun/Downloads/Pro-Ject/frontend/src/api.js"],"sourcesContent":["// frontend/src/api.js\r\nconst API_URL = \"http://localhost:8000\";\r\n\r\nasync function request(path, options = {}) {\r\n  const headers = options.headers || {};\r\n  if (!headers[\"Content-Type\"] && !(options.body instanceof FormData)) {\r\n    headers[\"Content-Type\"] = \"application/json\";\r\n  }\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\r\n  const res = await fetch(`${API_URL}${path}`, { ...options, headers });\r\n  if (!res.ok) {\r\n    const txt = await res.text().catch(()=>null);\r\n    throw new Error(txt || `Request failed (${res.status})`);\r\n  }\r\n  return res.status === 204 ? null : res.json();\r\n}\r\n\r\n// Auth\r\nexport async function registerUser({ name, email, password }) {\r\n  return request(\"/register\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ name, email, password }),\r\n  });\r\n}\r\n\r\nexport async function loginUser({ email, password }) {\r\n  // backend expects JSON {email,password} on /login and returns {access_token}\r\n  const data = await request(\"/login\", {\r\n    method: \"POST\",\r\n    body: JSON.stringify({ email, password }),\r\n  });\r\n  if (data && data.access_token) {\r\n    localStorage.setItem(\"token\", data.access_token);\r\n  }\r\n  return data;\r\n}\r\n\r\n// Profile\r\nexport async function getProfile() {\r\n  return request(\"/profile\", { method: \"GET\" });\r\n}\r\nexport async function saveProfile(profile) {\r\n  return request(\"/profile\", { method: \"POST\", body: JSON.stringify(profile) });\r\n}\r\n\r\n// Jobs\r\nexport async function fetchJobs() {\r\n  const data = await request(\"/api/jobs\", { method: \"GET\" });\r\n  // normalize\r\n  return Array.isArray(data) ? data : data.jobs || [];\r\n}\r\n\r\n// logout\r\nexport function logout() {\r\n  localStorage.removeItem(\"token\");\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,OAAO,GAAG,uBAAuB;AAEvC,eAAeC,OAAOA,CAACC,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EACzC,MAAMC,OAAO,GAAGD,OAAO,CAACC,OAAO,IAAI,CAAC,CAAC;EACrC,IAAI,CAACA,OAAO,CAAC,cAAc,CAAC,IAAI,EAAED,OAAO,CAACE,IAAI,YAAYC,QAAQ,CAAC,EAAE;IACnEF,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAC9C;EACA,MAAMG,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAEH,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUG,KAAK,EAAE;EACvD,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,OAAO,GAAGE,IAAI,EAAE,EAAE;IAAE,GAAGC,OAAO;IAAEC;EAAQ,CAAC,CAAC;EACrE,IAAI,CAACM,GAAG,CAACE,EAAE,EAAE;IACX,MAAMC,GAAG,GAAG,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAI,IAAI,CAAC;IAC5C,MAAM,IAAIC,KAAK,CAACH,GAAG,IAAI,mBAAmBH,GAAG,CAACO,MAAM,GAAG,CAAC;EAC1D;EACA,OAAOP,GAAG,CAACO,MAAM,KAAK,GAAG,GAAG,IAAI,GAAGP,GAAG,CAACQ,IAAI,CAAC,CAAC;AAC/C;;AAEA;AACA,OAAO,eAAeC,YAAYA,CAAC;EAAEC,IAAI;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EAC5D,OAAOrB,OAAO,CAAC,WAAW,EAAE;IAC1BsB,MAAM,EAAE,MAAM;IACdlB,IAAI,EAAEmB,IAAI,CAACC,SAAS,CAAC;MAAEL,IAAI;MAAEC,KAAK;MAAEC;IAAS,CAAC;EAChD,CAAC,CAAC;AACJ;AAEA,OAAO,eAAeI,SAASA,CAAC;EAAEL,KAAK;EAAEC;AAAS,CAAC,EAAE;EACnD;EACA,MAAMK,IAAI,GAAG,MAAM1B,OAAO,CAAC,QAAQ,EAAE;IACnCsB,MAAM,EAAE,MAAM;IACdlB,IAAI,EAAEmB,IAAI,CAACC,SAAS,CAAC;MAAEJ,KAAK;MAAEC;IAAS,CAAC;EAC1C,CAAC,CAAC;EACF,IAAIK,IAAI,IAAIA,IAAI,CAACC,YAAY,EAAE;IAC7BpB,YAAY,CAACqB,OAAO,CAAC,OAAO,EAAEF,IAAI,CAACC,YAAY,CAAC;EAClD;EACA,OAAOD,IAAI;AACb;;AAEA;AACA,OAAO,eAAeG,UAAUA,CAAA,EAAG;EACjC,OAAO7B,OAAO,CAAC,UAAU,EAAE;IAAEsB,MAAM,EAAE;EAAM,CAAC,CAAC;AAC/C;AACA,OAAO,eAAeQ,WAAWA,CAACC,OAAO,EAAE;EACzC,OAAO/B,OAAO,CAAC,UAAU,EAAE;IAAEsB,MAAM,EAAE,MAAM;IAAElB,IAAI,EAAEmB,IAAI,CAACC,SAAS,CAACO,OAAO;EAAE,CAAC,CAAC;AAC/E;;AAEA;AACA,OAAO,eAAeC,SAASA,CAAA,EAAG;EAChC,MAAMN,IAAI,GAAG,MAAM1B,OAAO,CAAC,WAAW,EAAE;IAAEsB,MAAM,EAAE;EAAM,CAAC,CAAC;EAC1D;EACA,OAAOW,KAAK,CAACC,OAAO,CAACR,IAAI,CAAC,GAAGA,IAAI,GAAGA,IAAI,CAACS,IAAI,IAAI,EAAE;AACrD;;AAEA;AACA,OAAO,SAASC,MAAMA,CAAA,EAAG;EACvB7B,YAAY,CAAC8B,UAAU,CAAC,OAAO,CAAC;AAClC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}