{"ast":null,"code":"// frontend/src/api.js\nconst API_BASE = \"http://localhost:8000/api\"; // adjust if backend host/port different\n\nfunction getToken() {\n  return localStorage.getItem(\"token\") || localStorage.getItem(\"access_token\");\n}\nasync function request(path, method = \"GET\", body = null) {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  const token = getToken();\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : null\n  });\n  const data = await res.json().catch(() => null);\n  if (!res.ok) throw data || {\n    detail: \"Request failed\"\n  };\n  return data;\n}\nexport async function register(email, password) {\n  return request(\"/auth/register\", \"POST\", {\n    email,\n    password\n  });\n}\nexport async function login(email, password) {\n  const data = await request(\"/auth/login\", \"POST\", {\n    email,\n    password\n  });\n  // backend returns {\"access_token\": \"...\", \"token_type\": \"bearer\"}\n  if (data && (data.access_token || data.token)) {\n    const token = data.access_token || data.token;\n    localStorage.setItem(\"token\", token);\n  }\n  return data;\n}\nexport async function getMyProfile() {\n  return request(\"/profile/me\");\n}\nexport async function saveMyProfile(profile) {\n  return request(\"/profile/me\", \"POST\", profile);\n}\nexport async function getJobs() {\n  return request(\"/jobs/recommended\");\n}","map":{"version":3,"names":["API_BASE","getToken","localStorage","getItem","request","path","method","body","headers","token","res","fetch","JSON","stringify","data","json","catch","ok","detail","register","email","password","login","access_token","setItem","getMyProfile","saveMyProfile","profile","getJobs"],"sources":["C:/Users/yamun/Downloads/Pro-Ject/frontend/src/api.js"],"sourcesContent":["// frontend/src/api.js\r\nconst API_BASE = \"http://localhost:8000/api\"; // adjust if backend host/port different\r\n\r\nfunction getToken() {\r\n  return localStorage.getItem(\"token\") || localStorage.getItem(\"access_token\");\r\n}\r\n\r\nasync function request(path, method = \"GET\", body = null) {\r\n  const headers = { \"Content-Type\": \"application/json\" };\r\n  const token = getToken();\r\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\r\n  const res = await fetch(`${API_BASE}${path}`, {\r\n    method,\r\n    headers,\r\n    body: body ? JSON.stringify(body) : null,\r\n  });\r\n  const data = await res.json().catch(() => null);\r\n  if (!res.ok) throw data || { detail: \"Request failed\" };\r\n  return data;\r\n}\r\n\r\nexport async function register(email, password) {\r\n  return request(\"/auth/register\", \"POST\", { email, password });\r\n}\r\n\r\nexport async function login(email, password) {\r\n  const data = await request(\"/auth/login\", \"POST\", { email, password });\r\n  // backend returns {\"access_token\": \"...\", \"token_type\": \"bearer\"}\r\n  if (data && (data.access_token || data.token)) {\r\n    const token = data.access_token || data.token;\r\n    localStorage.setItem(\"token\", token);\r\n  }\r\n  return data;\r\n}\r\n\r\nexport async function getMyProfile() {\r\n  return request(\"/profile/me\");\r\n}\r\n\r\nexport async function saveMyProfile(profile) {\r\n  return request(\"/profile/me\", \"POST\", profile);\r\n}\r\n\r\nexport async function getJobs() {\r\n  return request(\"/jobs/recommended\");\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,2BAA2B,CAAC,CAAC;;AAE9C,SAASC,QAAQA,CAAA,EAAG;EAClB,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAID,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;AAC9E;AAEA,eAAeC,OAAOA,CAACC,IAAI,EAAEC,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAE;EACxD,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,MAAMC,KAAK,GAAGR,QAAQ,CAAC,CAAC;EACxB,IAAIQ,KAAK,EAAED,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUC,KAAK,EAAE;EACvD,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGX,QAAQ,GAAGK,IAAI,EAAE,EAAE;IAC5CC,MAAM;IACNE,OAAO;IACPD,IAAI,EAAEA,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAG;EACtC,CAAC,CAAC;EACF,MAAMO,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,MAAM,IAAI,CAAC;EAC/C,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE,MAAMH,IAAI,IAAI;IAAEI,MAAM,EAAE;EAAiB,CAAC;EACvD,OAAOJ,IAAI;AACb;AAEA,OAAO,eAAeK,QAAQA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC9C,OAAOjB,OAAO,CAAC,gBAAgB,EAAE,MAAM,EAAE;IAAEgB,KAAK;IAAEC;EAAS,CAAC,CAAC;AAC/D;AAEA,OAAO,eAAeC,KAAKA,CAACF,KAAK,EAAEC,QAAQ,EAAE;EAC3C,MAAMP,IAAI,GAAG,MAAMV,OAAO,CAAC,aAAa,EAAE,MAAM,EAAE;IAAEgB,KAAK;IAAEC;EAAS,CAAC,CAAC;EACtE;EACA,IAAIP,IAAI,KAAKA,IAAI,CAACS,YAAY,IAAIT,IAAI,CAACL,KAAK,CAAC,EAAE;IAC7C,MAAMA,KAAK,GAAGK,IAAI,CAACS,YAAY,IAAIT,IAAI,CAACL,KAAK;IAC7CP,YAAY,CAACsB,OAAO,CAAC,OAAO,EAAEf,KAAK,CAAC;EACtC;EACA,OAAOK,IAAI;AACb;AAEA,OAAO,eAAeW,YAAYA,CAAA,EAAG;EACnC,OAAOrB,OAAO,CAAC,aAAa,CAAC;AAC/B;AAEA,OAAO,eAAesB,aAAaA,CAACC,OAAO,EAAE;EAC3C,OAAOvB,OAAO,CAAC,aAAa,EAAE,MAAM,EAAEuB,OAAO,CAAC;AAChD;AAEA,OAAO,eAAeC,OAAOA,CAAA,EAAG;EAC9B,OAAOxB,OAAO,CAAC,mBAAmB,CAAC;AACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}