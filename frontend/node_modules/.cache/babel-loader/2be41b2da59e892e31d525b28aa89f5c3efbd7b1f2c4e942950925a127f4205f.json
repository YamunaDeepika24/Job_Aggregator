{"ast":null,"code":"// frontend/src/api.js\nconst BASE = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nconst API_URL = \"http://localhost:8000\";\nasync function request(path, opts = {}) {\n  const token = localStorage.getItem(\"token\");\n  const headers = opts.headers || {};\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  headers[\"Content-Type\"] = headers[\"Content-Type\"] || \"application/json\";\n  const res = await fetch(BASE + path, {\n    ...opts,\n    headers\n  });\n  if (res.status === 401) {\n    // remove token if invalid\n    localStorage.removeItem(\"token\");\n  }\n  const text = await res.text();\n  try {\n    return JSON.parse(text || \"{}\");\n  } catch {\n    return text;\n  }\n}\nexport async function registerUser(payload) {\n  return request(\"/register\", {\n    method: \"POST\",\n    body: JSON.stringify(payload)\n  });\n}\nexport const loginUser = async data => {\n  return request(`${API_URL}/login`, {\n    method: \"POST\",\n    body: JSON.stringify(data)\n  });\n};\nexport async function getProfile() {\n  return request(\"/profile\", {\n    method: \"GET\"\n  });\n}\nexport async function saveProfile(profile) {\n  return request(\"/profile\", {\n    method: \"POST\",\n    body: JSON.stringify(profile)\n  });\n}\nexport async function fetchJobs() {\n  return request(\"/api/jobs\", {\n    method: \"GET\"\n  });\n}","map":{"version":3,"names":["BASE","process","env","REACT_APP_API_URL","API_URL","request","path","opts","token","localStorage","getItem","headers","res","fetch","status","removeItem","text","JSON","parse","registerUser","payload","method","body","stringify","loginUser","data","getProfile","saveProfile","profile","fetchJobs"],"sources":["C:/Users/yamun/Downloads/Pro-Ject/frontend/src/api.js"],"sourcesContent":["// frontend/src/api.js\r\nconst BASE = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\r\nconst API_URL = \"http://localhost:8000\";\r\n\r\n\r\nasync function request(path, opts = {}) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const headers = opts.headers || {};\r\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\r\n  headers[\"Content-Type\"] = headers[\"Content-Type\"] || \"application/json\";\r\n\r\n  const res = await fetch(BASE + path, {\r\n    ...opts,\r\n    headers,\r\n  });\r\n  if (res.status === 401) {\r\n    // remove token if invalid\r\n    localStorage.removeItem(\"token\");\r\n  }\r\n  const text = await res.text();\r\n  try {\r\n    return JSON.parse(text || \"{}\");\r\n  } catch {\r\n    return text;\r\n  }\r\n}\r\n\r\nexport async function registerUser(payload) {\r\n  return request(\"/register\", { method: \"POST\", body: JSON.stringify(payload) });\r\n}\r\nexport const loginUser = async (data) => {\r\n  return request(`${API_URL}/login`, { method: \"POST\", body: JSON.stringify(data),});\r\n};\r\n\r\nexport async function getProfile() {\r\n  return request(\"/profile\", { method: \"GET\" });\r\n}\r\nexport async function saveProfile(profile) {\r\n  return request(\"/profile\", { method: \"POST\", body: JSON.stringify(profile) });\r\n}\r\nexport async function fetchJobs() {\r\n  return request(\"/api/jobs\", { method: \"GET\" });\r\n}\r\n"],"mappings":"AAAA;AACA,MAAMA,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AACrE,MAAMC,OAAO,GAAG,uBAAuB;AAGvC,eAAeC,OAAOA,CAACC,IAAI,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;EACtC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,OAAO,GAAGJ,IAAI,CAACI,OAAO,IAAI,CAAC,CAAC;EAClC,IAAIH,KAAK,EAAEG,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUH,KAAK,EAAE;EACvDG,OAAO,CAAC,cAAc,CAAC,GAAGA,OAAO,CAAC,cAAc,CAAC,IAAI,kBAAkB;EAEvE,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACb,IAAI,GAAGM,IAAI,EAAE;IACnC,GAAGC,IAAI;IACPI;EACF,CAAC,CAAC;EACF,IAAIC,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;IACtB;IACAL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;EAClC;EACA,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACI,IAAI,CAAC,CAAC;EAC7B,IAAI;IACF,OAAOC,IAAI,CAACC,KAAK,CAACF,IAAI,IAAI,IAAI,CAAC;EACjC,CAAC,CAAC,MAAM;IACN,OAAOA,IAAI;EACb;AACF;AAEA,OAAO,eAAeG,YAAYA,CAACC,OAAO,EAAE;EAC1C,OAAOf,OAAO,CAAC,WAAW,EAAE;IAAEgB,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAEL,IAAI,CAACM,SAAS,CAACH,OAAO;EAAE,CAAC,CAAC;AAChF;AACA,OAAO,MAAMI,SAAS,GAAG,MAAOC,IAAI,IAAK;EACvC,OAAOpB,OAAO,CAAC,GAAGD,OAAO,QAAQ,EAAE;IAAEiB,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAEL,IAAI,CAACM,SAAS,CAACE,IAAI;EAAE,CAAC,CAAC;AACpF,CAAC;AAED,OAAO,eAAeC,UAAUA,CAAA,EAAG;EACjC,OAAOrB,OAAO,CAAC,UAAU,EAAE;IAAEgB,MAAM,EAAE;EAAM,CAAC,CAAC;AAC/C;AACA,OAAO,eAAeM,WAAWA,CAACC,OAAO,EAAE;EACzC,OAAOvB,OAAO,CAAC,UAAU,EAAE;IAAEgB,MAAM,EAAE,MAAM;IAAEC,IAAI,EAAEL,IAAI,CAACM,SAAS,CAACK,OAAO;EAAE,CAAC,CAAC;AAC/E;AACA,OAAO,eAAeC,SAASA,CAAA,EAAG;EAChC,OAAOxB,OAAO,CAAC,WAAW,EAAE;IAAEgB,MAAM,EAAE;EAAM,CAAC,CAAC;AAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}